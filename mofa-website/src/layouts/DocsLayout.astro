---
import BaseLayout from './BaseLayout.astro';

export interface Props {
  title: string;
  description?: string;
}

const { title, description } = Astro.props;
const { base } = import.meta.env;

// 文档导航结构
const docNav = [
  {
    title: '快速开始',
    items: [
      { title: '安装', href: '/docs/quick-start' },
      { title: '第一个代理', href: '/docs/first-agent' },
    ]
  },
  {
    title: '核心概念',
    items: [
      { title: '代理 (Agent)', href: '/docs/concepts/agent' },
      { title: '管道 (Pipeline)', href: '/docs/concepts/pipeline' },
    ]
  }
];
---

<BaseLayout title={title} description={description}>
  <div class="container mx-auto px-4 py-8">
    <div class="flex gap-8">
      <!-- 左侧导航 -->
      <aside class="w-64 flex-shrink-0 hidden lg:block">
        <nav class="sticky top-20">
          {docNav.map((section) => (
            <div class="mb-6">
              <h3 class="font-semibold text-gray-900 mb-2">{section.title}</h3>
              <ul class="space-y-1">
                {section.items.map((item) => (
                  <li>
                    <a 
                      href={`${base}${item.href}`}
                      class="block px-3 py-2 text-sm text-gray-600 hover:text-mondrian-red hover:bg-gray-50 rounded transition-colors"
                    >
                      {item.title}
                    </a>
                  </li>
                ))}
              </ul>
            </div>
          ))}
        </nav>
      </aside>

      <!-- 主内容区 -->
      <main class="flex-1 max-w-4xl">
        <article class="prose prose-lg max-w-none">
          <slot />
        </article>
      </main>
    </div>
  </div>
</BaseLayout> 