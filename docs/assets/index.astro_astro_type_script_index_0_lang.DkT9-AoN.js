let x="install",y=[];function q(){const n=document.querySelector(".terminal-content.active").querySelectorAll(".typing-text");for(let o of n){const t=o.getAttribute("data-text");if(t&&!t.startsWith("#")&&!t.includes("or with")&&!t.includes("Clone an")&&!t.includes("Start your"))return t}return"mofa --help"}function A(){const e=q(),n=document.getElementById("main-copy-btn"),o=document.getElementById("success-message");navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(e).then(()=>{w(n,o)}).catch(()=>{C(e,n,o)}):C(e,n,o)}function C(e,n,o){const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),w(n,o)}catch(a){console.error("Â§çÂà∂Â§±Ë¥•:",a)}document.body.removeChild(t)}function w(e,n){e.innerHTML=`
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
        <span>Copied!</span>
      `,e.classList.add("copied"),n.classList.remove("hidden"),setTimeout(()=>{e.innerHTML=`
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
            <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"></path>
          </svg>
          <span>Copy</span>
        `,e.classList.remove("copied"),n.classList.add("hidden")},2e3)}function B(e,n,o=50){return new Promise(t=>{e.textContent="",e.classList.add("typing");let a=0;const d=setInterval(()=>{a<n.length?(e.textContent+=n.charAt(a),e.style.width=(a+1)/n.length*100+"%",a++):(clearInterval(d),e.style.width="100%",t())},o);y.push(d)})}function I(){y.forEach(n=>clearInterval(n)),y=[],document.querySelectorAll(".typing-text").forEach(n=>{n.classList.remove("typing"),n.textContent="",n.style.width="0",n.style.opacity="0"})}async function T(e){const n=e.querySelectorAll(".typing-text");for(let o of n){const t=parseInt(o.getAttribute("data-delay")||0),a=o.getAttribute("data-text");t>0&&await new Promise(d=>{const u=setTimeout(d,t);y.push(u)}),await B(o,a,50)}}function M(e){if(x===e)return;I(),document.querySelectorAll(".terminal-tab").forEach(o=>{o.classList.remove("active")}),document.querySelector(`[data-tab="${e}"]`).classList.add("active"),document.querySelectorAll(".terminal-content").forEach(o=>{o.classList.remove("active")});const n=document.querySelector(`[data-content="${e}"]`);n.classList.add("active"),x=e,setTimeout(()=>{T(n)},100)}function k(){document.querySelectorAll(".terminal-tab").forEach(o=>{o.addEventListener("click",()=>{const t=o.getAttribute("data-tab");M(t)})});const e=document.getElementById("main-copy-btn");e&&e.addEventListener("click",A);const n=document.querySelector(".terminal-content.active");n&&setTimeout(()=>{T(n)},500)}const h={en:{name:"English",flag:"üá∫üá∏"},zh:{name:"‰∏≠Êñá",flag:"üá®üá≥"}};let b="en";function L(e){b=e;const n=document.getElementById("page-title");n&&(n.textContent=h[e].title);const o=document.getElementById("html-root");o&&o.setAttribute("lang",e==="zh"?"zh-CN":"en");const t=document.getElementById("current-lang"),a=e==="en"?"zh":"en";t&&(t.textContent=`${h[a].flag} ${h[a].name}`),document.querySelectorAll("[data-en][data-zh]").forEach(i=>{const s=i.getAttribute(`data-${e}`);if(s)if(i.classList.contains("dropdown-toggle")){const l=i.querySelector("span");l&&(l.textContent=s)}else i.innerHTML=s});const u=document.querySelector(".description-text-zh"),f=document.querySelector(".description-text-en");u&&f&&(e==="zh"?(u.style.display="block",f.style.display="none"):(u.style.display="none",f.style.display="block"));const g=document.getElementById("demo-video-iframe");g&&(e==="zh"?g.src="//player.bilibili.com/player.html?bvid=BV15fQPY6EnD&page=1&high_quality=1&danmaku=0":g.src="https://www.youtube.com/embed/-QApoNUPG-U"),localStorage.setItem("mofa-language",e)}function P(){const e=localStorage.getItem("mofa-language");e&&h[e]?L(e):L("en")}const E=document.getElementById("lang-toggle");E&&E.addEventListener("click",()=>{L(b==="en"?"zh":"en")});document.addEventListener("DOMContentLoaded",()=>{P(),k()});document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".logo-letter.draggable");let n=!1,o=null,t=null,a=0,d=0,u=0,f=0;e.forEach(i=>{i.addEventListener("mousedown",function(s){s.preventDefault(),n=!0,o=i,t=i.closest(".logo-letter-container"),i.classList.add("dragging"),a=s.clientX,d=s.clientY;const l=t.getBoundingClientRect(),c=t.offsetParent.getBoundingClientRect();u=l.left-c.left,f=l.top-c.top,t.style.animation="none"}),i.addEventListener("touchstart",function(s){s.preventDefault(),n=!0,o=i,t=i.closest(".logo-letter-container"),i.classList.add("dragging");const l=s.touches[0];a=l.clientX,d=l.clientY;const c=t.getBoundingClientRect(),r=t.offsetParent.getBoundingClientRect();u=c.left-r.left,f=c.top-r.top,t.style.animation="none"})}),document.addEventListener("mousemove",function(i){if(!n||!o||!t)return;i.preventDefault();const s=i.clientX-a,l=i.clientY-d;let c=u+s,r=f+l;if(!o.classList.contains("letter-a")){const m=t.offsetParent,p=m.clientWidth-t.offsetWidth,v=m.clientHeight-t.offsetHeight;c=Math.max(0,Math.min(p,c)),r=Math.max(0,Math.min(v,r))}t.style.left=c+"px",t.style.top=r+"px"}),document.addEventListener("touchmove",function(i){if(!n||!o||!t)return;i.preventDefault();const s=i.touches[0],l=s.clientX-a,c=s.clientY-d;let r=u+l,m=f+c;if(!o.classList.contains("letter-a")){const p=t.offsetParent,v=p.clientWidth-t.offsetWidth,S=p.clientHeight-t.offsetHeight;r=Math.max(0,Math.min(v,r)),m=Math.max(0,Math.min(S,m))}t.style.left=r+"px",t.style.top=m+"px"}),document.addEventListener("mouseup",function(){n&&o&&t&&(o.classList.remove("dragging"),setTimeout(()=>{t.style.animation=""},100),n=!1,o=null,t=null)}),document.addEventListener("touchend",function(){n&&o&&t&&(o.classList.remove("dragging"),setTimeout(()=>{t.style.animation=""},100),n=!1,o=null,t=null)}),e.forEach(i=>{i.addEventListener("dblclick",function(){const s=i.closest(".logo-letter-container");if(!s)return;const l={"letter-m":{top:"12px",left:"14px"},"letter-o":{top:"66px",left:"14px"},"letter-f":{top:"65px",left:"100px"},"letter-a":{top:"94.5px",left:"109px"}},c=Array.from(i.classList).find(r=>r.startsWith("letter-"));c&&l[c]&&(s.style.top=l[c].top,s.style.left=l[c].left)})}),document.querySelectorAll(".logo-letter-container").forEach(i=>{if(i.addEventListener("mousemove",function(s){if(n)return;const l=i.getBoundingClientRect(),c=(s.clientX-l.left)/l.width,r=(s.clientY-l.top)/l.height;i.style.setProperty("--shine-x",`${c*100}%`),i.style.setProperty("--shine-y",`${r*100}%`),i.classList.add("shine-active")}),i.addEventListener("mouseleave",function(){i.classList.remove("shine-active")}),!i.querySelector(".letter-f")){let s=i.querySelector(".data-flow");s||(s=document.createElement("div"),s.className="data-flow",i.appendChild(s))}})});
