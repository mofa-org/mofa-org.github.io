let L="install",p=[];function A(){const o=document.querySelector(".terminal-content.active").querySelectorAll(".typing-text");for(let n of o){const t=n.getAttribute("data-text");if(t&&!t.startsWith("#")&&!t.includes("or with")&&!t.includes("Clone an")&&!t.includes("Start your"))return t}return"mofa --help"}function B(){const e=A(),o=document.getElementById("main-copy-btn"),n=document.getElementById("success-message");navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(e).then(()=>{w(o,n)}).catch(()=>{E(e,o,n)}):E(e,o,n)}function E(e,o,n){const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),w(o,n)}catch(a){console.error("Â§çÂà∂Â§±Ë¥•:",a)}document.body.removeChild(t)}function w(e,o){e.innerHTML=`
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
        <span>Copied!</span>
      `,e.classList.add("copied"),o.classList.remove("hidden"),setTimeout(()=>{e.innerHTML=`
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
            <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"></path>
          </svg>
          <span>Copy</span>
        `,e.classList.remove("copied"),o.classList.add("hidden")},2e3)}function q(e,o,n=50){return new Promise(t=>{e.textContent="",e.classList.add("typing");let a=0;const s=setInterval(()=>{a<o.length?(e.textContent+=o.charAt(a),e.style.width=(a+1)/o.length*100+"%",a++):(clearInterval(s),e.style.width="100%",t())},n);p.push(s)})}function k(){p.forEach(o=>clearInterval(o)),p=[],document.querySelectorAll(".typing-text").forEach(o=>{o.classList.remove("typing"),o.textContent="",o.style.width="0",o.style.opacity="0"})}async function b(e){const o=e.querySelectorAll(".typing-text");for(let n of o){const t=parseInt(n.getAttribute("data-delay")||0),a=n.getAttribute("data-text");t>0&&await new Promise(s=>{const c=setTimeout(s,t);p.push(c)}),await q(n,a,50)}}function F(e){if(L===e)return;k(),document.querySelectorAll(".terminal-tab").forEach(n=>{n.classList.remove("active")}),document.querySelector(`[data-tab="${e}"]`).classList.add("active"),document.querySelectorAll(".terminal-content").forEach(n=>{n.classList.remove("active")});const o=document.querySelector(`[data-content="${e}"]`);o.classList.add("active"),L=e,setTimeout(()=>{b(o)},100)}function I(){document.querySelectorAll(".terminal-tab").forEach(n=>{n.addEventListener("click",()=>{const t=n.getAttribute("data-tab");F(t)})});const e=document.getElementById("main-copy-btn");e&&e.addEventListener("click",B);const o=document.querySelector(".terminal-content.active");o&&setTimeout(()=>{b(o)},500)}const y={en:{name:"English",flag:"üá∫üá∏"},zh:{name:"‰∏≠Êñá",flag:"üá®üá≥"}};let T="en";function x(e){T=e,document.getElementById("page-title").textContent=y[e].title,document.getElementById("html-root").setAttribute("lang",e==="zh"?"zh-CN":"en");const o=document.getElementById("current-lang"),n=e==="en"?"zh":"en";o.textContent=`${y[n].flag} ${y[n].name}`,document.querySelectorAll("[data-en][data-zh]").forEach(m=>{const h=m.getAttribute(`data-${e}`);h&&(m.innerHTML=h)});const a=document.querySelector(".description-text-zh"),s=document.querySelector(".description-text-en");a&&s&&(e==="zh"?(a.style.display="block",s.style.display="none"):(a.style.display="none",s.style.display="block"));const c=document.getElementById("demo-video-iframe");c&&(e==="zh"?c.src="//player.bilibili.com/player.html?bvid=BV15fQPY6EnD&page=1&high_quality=1&danmaku=0":c.src="https://www.youtube.com/embed/-QApoNUPG-U"),localStorage.setItem("mofa-language",e)}function M(){const e=localStorage.getItem("mofa-language");e&&y[e]?x(e):x("zh")}document.getElementById("lang-toggle").addEventListener("click",()=>{x(T==="en"?"zh":"en")});document.addEventListener("DOMContentLoaded",()=>{M(),I()});document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".logo-letter.draggable");let o=!1,n=null,t=null,a=0,s=0,c=0,m=0;e.forEach(i=>{i.addEventListener("mousedown",function(l){l.preventDefault(),o=!0,n=i,t=i.closest(".logo-letter-container"),i.classList.add("dragging"),a=l.clientX,s=l.clientY;const r=t.getBoundingClientRect(),d=t.offsetParent.getBoundingClientRect();c=r.left-d.left,m=r.top-d.top,t.style.animation="none"}),i.addEventListener("touchstart",function(l){l.preventDefault(),o=!0,n=i,t=i.closest(".logo-letter-container"),i.classList.add("dragging");const r=l.touches[0];a=r.clientX,s=r.clientY;const d=t.getBoundingClientRect(),u=t.offsetParent.getBoundingClientRect();c=d.left-u.left,m=d.top-u.top,t.style.animation="none"})}),document.addEventListener("mousemove",function(i){if(!o||!n||!t)return;i.preventDefault();const l=i.clientX-a,r=i.clientY-s;let d=c+l,u=m+r;if(!n.classList.contains("letter-a")){const f=t.offsetParent,g=f.clientWidth-t.offsetWidth,v=f.clientHeight-t.offsetHeight;d=Math.max(0,Math.min(g,d)),u=Math.max(0,Math.min(v,u))}t.style.left=d+"px",t.style.top=u+"px"}),document.addEventListener("touchmove",function(i){if(!o||!n||!t)return;i.preventDefault();const l=i.touches[0],r=l.clientX-a,d=l.clientY-s;let u=c+r,f=m+d;if(!n.classList.contains("letter-a")){const g=t.offsetParent,v=g.clientWidth-t.offsetWidth,S=g.clientHeight-t.offsetHeight;u=Math.max(0,Math.min(v,u)),f=Math.max(0,Math.min(S,f))}t.style.left=u+"px",t.style.top=f+"px"}),document.addEventListener("mouseup",function(){o&&n&&t&&(n.classList.remove("dragging"),setTimeout(()=>{t.style.animation=""},100),o=!1,n=null,t=null)}),document.addEventListener("touchend",function(){o&&n&&t&&(n.classList.remove("dragging"),setTimeout(()=>{t.style.animation=""},100),o=!1,n=null,t=null)}),e.forEach(i=>{i.addEventListener("dblclick",function(){const l=i.closest(".logo-letter-container");if(!l)return;const r={"letter-m":{top:"12px",left:"14px"},"letter-o":{top:"66px",left:"14px"},"letter-f":{top:"65px",left:"100px"},"letter-a":{top:"94.5px",left:"109px"}},d=Array.from(i.classList).find(u=>u.startsWith("letter-"));d&&r[d]&&(l.style.top=r[d].top,l.style.left=r[d].left)})}),document.querySelectorAll(".logo-letter-container").forEach(i=>{if(i.addEventListener("mousemove",function(l){if(o)return;const r=i.getBoundingClientRect(),d=(l.clientX-r.left)/r.width,u=(l.clientY-r.top)/r.height;i.style.setProperty("--shine-x",`${d*100}%`),i.style.setProperty("--shine-y",`${u*100}%`),i.classList.add("shine-active")}),i.addEventListener("mouseleave",function(){i.classList.remove("shine-active")}),!i.querySelector(".letter-f")){let l=i.querySelector(".data-flow");l||(l=document.createElement("div"),l.className="data-flow",i.appendChild(l))}})});const P="modulepreload",z=function(e){return"/"+e},C={},$=function(o,n,t){if(!n||n.length===0)return o();const a=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=z(s),s in C)return;C[s]=!0;const c=s.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(!!t)for(let l=a.length-1;l>=0;l--){const r=a[l];if(r.href===s&&(!c||r.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${m}`))return;const i=document.createElement("link");if(i.rel=c?"stylesheet":P,c||(i.as="script",i.crossOrigin=""),i.href=s,document.head.appendChild(i),c)return new Promise((l,r)=>{i.addEventListener("load",l),i.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>o()).catch(s=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s})};$(()=>import("https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs"),[]).then(e=>{e.default.initialize({startOnLoad:!0,theme:"base",themeVariables:{primaryColor:"#6366F1",primaryTextColor:"#1F2937",primaryBorderColor:"#6366F1",lineColor:"#0EA5E9",sectionBkgColor:"#F8FAFC",altSectionBkgColor:"#FFFFFF",gridColor:"#E5E7EB",secondaryColor:"#F59E0B",tertiaryColor:"#F59E0B"},fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontSize:24,flowchart:{htmlLabels:!0,curve:"basis",useMaxWidth:!0,rankdir:"TB",padding:25},security:{level:"loose"},maxTextSize:9e4,maxEdges:500}),setTimeout(()=>{e.default.run(),setTimeout(()=>{document.querySelectorAll(".mermaid").forEach(o=>{const n=o.querySelector("svg"),t=o.closest("[data-scale]"),a=t?parseFloat(t.getAttribute("data-scale")):1;if(n){if(n.removeAttribute("height"),n.removeAttribute("width"),n.style.maxWidth="100%",n.style.maxHeight="100%",!n.getAttribute("viewBox")){const s=n.getBBox();n.setAttribute("viewBox",`0 0 ${s.width+20} ${s.height+20}`)}n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.style.width=`${a*100}%`,n.style.height=`${a*100}%`,n.style.transform="none"}})},500)},100)}).catch(e=>{console.error("Failed to load Mermaid:",e)});
