let x="install",L=[];function I(){const n=document.querySelector(".terminal-content.active").querySelectorAll(".typing-text");for(let t of n){const o=t.getAttribute("data-text");if(o&&!o.startsWith("#")&&!o.includes("or with")&&!o.includes("Clone an")&&!o.includes("Start your"))return o}return"mofa --help"}function M(){const e=I(),n=document.getElementById("main-copy-btn"),t=document.getElementById("success-message");navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(e).then(()=>{A(n,t)}).catch(()=>{k(e,n,t)}):k(e,n,t)}function k(e,n,t){const o=document.createElement("textarea");o.value=e,o.style.position="fixed",o.style.left="-999999px",o.style.top="-999999px",document.body.appendChild(o),o.focus(),o.select();try{document.execCommand("copy"),A(n,t)}catch(l){console.error("Â§çÂà∂Â§±Ë¥•:",l)}document.body.removeChild(o)}function A(e,n){e.innerHTML=`
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
        <span>Copied!</span>
      `,e.classList.add("copied"),n.classList.remove("hidden"),setTimeout(()=>{e.innerHTML=`
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
            <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"></path>
          </svg>
          <span>Copy</span>
        `,e.classList.remove("copied"),n.classList.add("hidden")},2e3)}function z(e,n,t=50){return new Promise(o=>{e.textContent="",e.classList.add("typing");let l=0;const s=setInterval(()=>{l<n.length?(e.textContent+=n.charAt(l),e.style.width=(l+1)/n.length*100+"%",l++):(clearInterval(s),e.style.width="100%",o())},t);L.push(s)})}function F(){L.forEach(n=>clearInterval(n)),L=[],document.querySelectorAll(".typing-text").forEach(n=>{n.classList.remove("typing"),n.textContent="",n.style.width="0",n.style.opacity="0"})}async function S(e){const n=e.querySelectorAll(".typing-text");for(let t of n){const o=parseInt(t.getAttribute("data-delay")||0),l=t.getAttribute("data-text");o>0&&await new Promise(s=>{const a=setTimeout(s,o);L.push(a)}),await z(t,l,50)}}function P(e){if(x===e)return;F(),document.querySelectorAll(".terminal-tab").forEach(t=>{t.classList.remove("active")}),document.querySelector(`[data-tab="${e}"]`).classList.add("active"),document.querySelectorAll(".terminal-content").forEach(t=>{t.classList.remove("active")});const n=document.querySelector(`[data-content="${e}"]`);n.classList.add("active"),x=e,setTimeout(()=>{S(n)},100)}function $(){document.querySelectorAll(".terminal-tab").forEach(t=>{t.addEventListener("click",()=>{const o=t.getAttribute("data-tab");P(o)})});const e=document.getElementById("main-copy-btn");e&&e.addEventListener("click",M);const n=document.querySelector(".terminal-content.active");n&&setTimeout(()=>{S(n)},500)}const b={en:{name:"English",flag:"üá∫üá∏"},zh:{name:"‰∏≠Êñá",flag:"üá®üá≥"}};let w="en";function h(e){w=e,document.getElementById("page-title").textContent=b[e].title,document.getElementById("html-root").setAttribute("lang",e==="zh"?"zh-CN":"en");const n=document.getElementById("current-lang"),t=e==="en"?"zh":"en";n.textContent=`${b[t].flag} ${b[t].name}`,document.querySelectorAll("[data-en][data-zh]").forEach(m=>{const g=m.getAttribute(`data-${e}`);g&&(m.innerHTML=g)});const l=document.querySelector(".description-text-zh"),s=document.querySelector(".description-text-en");l&&s&&(e==="zh"?(l.style.display="block",s.style.display="none"):(l.style.display="none",s.style.display="block"));const a=document.getElementById("demo-video-iframe");a&&(e==="zh"?a.src="//player.bilibili.com/player.html?bvid=BV15fQPY6EnD&page=1&high_quality=1&danmaku=0":a.src="https://www.youtube.com/embed/-QApoNUPG-U"),localStorage.setItem("mofa-language",e)}function W(){const e=localStorage.getItem("mofa-language");e&&b[e]?h(e):h("en")}function D(){const e=document.getElementById("mobile-menu-toggle"),n=document.getElementById("mobile-menu"),t=document.getElementById("lang-toggle-mobile"),o=document.getElementById("current-lang-mobile");e&&n&&(e.addEventListener("click",function(){n.style.display==="none"||!n.style.display?n.style.display="block":n.style.display="none"}),document.addEventListener("click",function(a){!e.contains(a.target)&&!n.contains(a.target)&&(n.style.display="none")})),t&&t.addEventListener("click",function(){h(w==="en"?"zh":"en")});function l(){if(o){const a=w==="en"?"üá∫üá∏":"üá®üá≥";o.textContent=a}}const s=h;h=function(a){s(a),l()},l()}document.getElementById("lang-toggle").addEventListener("click",()=>{h(w==="en"?"zh":"en")});document.addEventListener("DOMContentLoaded",()=>{W(),$(),D()});document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".logo-letter.draggable");let n=!1,t=null,o=null,l=0,s=0,a=0,m=0;e.forEach(i=>{i.addEventListener("mousedown",function(r){r.preventDefault(),n=!0,t=i,o=i.closest(".logo-letter-container"),i.classList.add("dragging"),l=r.clientX,s=r.clientY;const c=o.getBoundingClientRect(),u=o.offsetParent.getBoundingClientRect();a=c.left-u.left,m=c.top-u.top,o.style.animation="none"}),i.addEventListener("touchstart",function(r){r.preventDefault(),n=!0,t=i,o=i.closest(".logo-letter-container"),i.classList.add("dragging");const c=r.touches[0];l=c.clientX,s=c.clientY;const u=o.getBoundingClientRect(),d=o.offsetParent.getBoundingClientRect();a=u.left-d.left,m=u.top-d.top,o.style.animation="none"})}),document.addEventListener("mousemove",function(i){if(!n||!t||!o)return;i.preventDefault();const r=i.clientX-l,c=i.clientY-s;let u=a+r,d=m+c;if(!t.classList.contains("letter-a")){const f=o.offsetParent,y=f.clientWidth-o.offsetWidth,p=f.clientHeight-o.offsetHeight;u=Math.max(0,Math.min(y,u)),d=Math.max(0,Math.min(p,d))}o.style.left=u+"px",o.style.top=d+"px"}),document.addEventListener("touchmove",function(i){if(!n||!t||!o)return;i.preventDefault();const r=i.touches[0],c=r.clientX-l,u=r.clientY-s;let d=a+c,f=m+u;if(!t.classList.contains("letter-a")){const y=o.offsetParent,p=y.clientWidth-o.offsetWidth,v=y.clientHeight-o.offsetHeight;d=Math.max(0,Math.min(p,d)),f=Math.max(0,Math.min(v,f))}o.style.left=d+"px",o.style.top=f+"px"}),document.addEventListener("mouseup",function(){n&&t&&o&&(t.classList.remove("dragging"),setTimeout(()=>{o.style.animation=""},100),n=!1,t=null,o=null)}),document.addEventListener("touchend",function(){n&&t&&o&&(t.classList.remove("dragging"),setTimeout(()=>{o.style.animation=""},100),n=!1,t=null,o=null)}),e.forEach(i=>{i.addEventListener("dblclick",function(){const r=i.closest(".logo-letter-container");if(!r)return;const c={"letter-m":{top:"12px",left:"14px"},"letter-o":{top:"66px",left:"14px"},"letter-f":{top:"65px",left:"100px"},"letter-a":{top:"94.5px",left:"109px"}},u=Array.from(i.classList).find(d=>d.startsWith("letter-"));u&&c[u]&&(r.style.top=c[u].top,r.style.left=c[u].left)})}),document.querySelectorAll(".logo-letter-container").forEach(i=>{if(i.addEventListener("mousemove",function(r){if(n)return;const c=i.getBoundingClientRect(),u=(r.clientX-c.left)/c.width,d=(r.clientY-c.top)/c.height;i.style.setProperty("--shine-x",`${u*100}%`),i.style.setProperty("--shine-y",`${d*100}%`),i.classList.add("shine-active")}),i.addEventListener("mouseleave",function(){i.classList.remove("shine-active")}),!i.querySelector(".letter-f")){let r=i.querySelector(".data-flow");r||(r=document.createElement("div"),r.className="data-flow",i.appendChild(r))}})});const H="modulepreload",R=function(e){return"/"+e},C={},Y=function(n,t,o){if(!t||t.length===0)return n();const l=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=R(s),s in C)return;C[s]=!0;const a=s.endsWith(".css"),m=a?'[rel="stylesheet"]':"";if(!!o)for(let r=l.length-1;r>=0;r--){const c=l[r];if(c.href===s&&(!a||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${m}`))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":H,a||(i.as="script",i.crossOrigin=""),i.href=s,document.head.appendChild(i),a)return new Promise((r,c)=>{i.addEventListener("load",r),i.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>n()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};Y(()=>import("https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs"),[]).then(e=>{e.default.initialize({startOnLoad:!0,theme:"base",themeVariables:{primaryColor:"#6366F1",primaryTextColor:"#1F2937",primaryBorderColor:"#6366F1",lineColor:"#0EA5E9",sectionBkgColor:"#F8FAFC",altSectionBkgColor:"#FFFFFF",gridColor:"#E5E7EB",secondaryColor:"#F59E0B",tertiaryColor:"#F59E0B"},fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontSize:20,flowchart:{htmlLabels:!0,curve:"basis",useMaxWidth:!0,rankdir:"TB",padding:20},security:{level:"loose"},maxTextSize:9e4,maxEdges:500}),setTimeout(()=>{e.default.run(),setTimeout(()=>{document.querySelectorAll(".mermaid").forEach(n=>{const t=n.querySelector("svg"),o=n.closest("[data-scale]"),l=o?parseFloat(o.getAttribute("data-scale")):1;if(t){if(t.removeAttribute("height"),t.removeAttribute("width"),t.style.maxWidth="100%",t.style.maxHeight="100%",!t.getAttribute("viewBox")){const s=t.getBBox();t.setAttribute("viewBox",`0 0 ${s.width+20} ${s.height+20}`)}t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.style.width=`${l*100}%`,t.style.height=`${l*100}%`,t.style.transform="none"}}),O(),N()},500)},100)}).catch(e=>{console.error("Failed to load Mermaid:",e)});function O(){const e=document.querySelector(".workflow-scroll");if(!e)return;const n=.5;let t=null,o=!1,l=!1,s=null;Array.from(e.children).forEach(r=>{e.appendChild(r.cloneNode(!0)),e.insertBefore(r.cloneNode(!0),e.firstChild)}),requestAnimationFrame(()=>{const r=e.scrollWidth/3;e.scrollLeft=r});function m(){const r=e.scrollWidth/3;e.scrollLeft<=r*.2?e.scrollLeft+=r:e.scrollLeft>=r*1.8&&(e.scrollLeft-=r)}function g(){!o&&!l&&e&&(e.scrollLeft+=n,m()),t=requestAnimationFrame(g)}function i(){l=!0,s&&clearTimeout(s),s=setTimeout(()=>{l=!1},2e3)}["wheel","touchstart","touchmove","mousedown","mouseup"].forEach(r=>{e.addEventListener(r,i,{passive:!0})}),e.addEventListener("mouseenter",()=>{o=!0}),e.addEventListener("mouseleave",()=>{o=!1}),e.addEventListener("scroll",m),g(),window.addEventListener("beforeunload",()=>{t&&cancelAnimationFrame(t),s&&clearTimeout(s)})}function N(){document.querySelectorAll(".workflow-card").forEach(e=>{e.style.cursor="zoom-in"}),document.addEventListener("click",e=>{const n=e.target.closest(".workflow-card");if(!n)return;let t=n.querySelector(".mermaid svg")||n.querySelector(".mermaid");t&&(console.debug("[Gallery] Card clicked, opening modal"),T(t))},!0)}function T(e){if(!e)return;const n=Array.from(document.querySelectorAll('[class^="mermaid-container-"] svg, [class^="mermaid-container-"] .mermaid')).filter(Boolean);n.includes(e)||n.push(e);let t=n.findIndex(d=>d===e);t===-1&&(t=0);const o=document.querySelector(".workflow-modal");o&&o.remove();const l=document.createElement("div");l.className="workflow-modal",l.style.cssText="position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.8);padding:2rem;",l.innerHTML=`
      <button class="gallery-nav gallery-prev" aria-label="Prev">&#9664;</button>
      <button class="gallery-nav gallery-next" aria-label="Next">&#9654;</button>
      <div class="workflow-modal-content" style="position:relative;width:90vw;height:90vh;overflow:hidden;background:#FFF3D9;border-radius:8px;border:4px solid var(--mondrian-black);box-shadow:6px 6px 0 var(--mondrian-black);display:flex;flex-direction:column;">
        <button class="workflow-modal-close" aria-label="Close" style="position:absolute;top:0.25rem;right:0.5rem;font-size:1.5rem;background:transparent;border:none;color:#333;cursor:pointer;">&times;</button>
        <div class="workflow-modal-body" style="padding:1rem;display:flex;align-items:center;justify-content:center;flex:1;overflow:auto;"></div>
        <div class="gallery-zoom" style="position:absolute;bottom:0.5rem;right:0.75rem;display:flex;gap:0.5rem;">
          <button class="zoom-in" aria-label="Zoom in" style="font-size:1.25rem;width:2rem;height:2rem;border:none;border-radius:4px;background:#e5e7eb;cursor:pointer;">+</button>
          <button class="zoom-out" aria-label="Zoom out" style="font-size:1.25rem;width:2rem;height:2rem;border:none;border-radius:4px;background:#e5e7eb;cursor:pointer;">&minus;</button>
        </div>
      </div>`,document.body.appendChild(l);const s=l.querySelector(".workflow-modal-body");let a=1;function m(){s.innerHTML="";const d=n[t];if(!d)return;let f=d.cloneNode(!0);f.tagName.toLowerCase()==="svg"&&(f.removeAttribute("width"),f.removeAttribute("height"),f.style.width="100%",f.style.height="auto",f.style.maxWidth="100%",f.style.maxHeight="100%"),f.style.transformOrigin="center center",f.style.transform=`scale(${a})`,s.appendChild(f)}function g(d){t=(t+d+n.length)%n.length,a=1,m()}m(),l.querySelector(".gallery-prev").addEventListener("click",()=>g(-1)),l.querySelector(".gallery-next").addEventListener("click",()=>g(1)),l.querySelector(".zoom-in").addEventListener("click",()=>{a=Math.min(a+.2,4),m()}),l.querySelector(".zoom-out").addEventListener("click",()=>{a=Math.max(a-.2,.4),m()});const i=document.body.style.overflow;document.body.style.overflow="hidden";const r=()=>{l.remove(),document.body.style.overflow=i,document.removeEventListener("keydown",c),document.removeEventListener("keydown",u)};l.querySelector(".workflow-modal-close").addEventListener("click",r),l.addEventListener("click",d=>{d.target===l&&r()});const c=d=>{d.key==="Escape"&&r()};document.addEventListener("keydown",c);const u=d=>{d.key==="ArrowLeft"?g(-1):d.key==="ArrowRight"?g(1):d.key==="+"?(a=Math.min(a+.2,4),m()):d.key==="-"&&(a=Math.max(a-.2,.4),m())};document.addEventListener("keydown",u)}document.addEventListener("click",e=>{const n=e.target.closest(".workflow-view-btn");if(!n)return;e.stopPropagation();const t=n.getAttribute("data-target-id"),o=document.querySelector(`.mermaid-container-${t} svg`)||document.querySelector(`.mermaid-container-${t} .mermaid`);o&&(console.log("[ViewBtn] opening modal for",t),window.openWorkflowModal(o))},!0);const B=()=>document.querySelectorAll(".workflow-card").forEach(e=>e.style.cursor="zoom-in");B();new MutationObserver(B).observe(document.querySelector(".workflow-scroll"),{childList:!0});window.openWorkflowModal=T;document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll("#hof-tabs .category-tab"),n=document.querySelectorAll(".category-content"),t=document.getElementById("contributor-modal"),o=document.getElementById("modal-content"),l=document.getElementById("close-modal"),s=document.querySelector('[data-category="contributors"]');s&&s.classList.add("bg-gray-200","border-gray-600"),e.forEach(i=>{i.addEventListener("click",()=>{const r=i.getAttribute("data-category");e.forEach(c=>{c===i?c.classList.add("bg-gray-200","border-gray-600"):c.classList.remove("bg-gray-200","border-gray-600")}),n.forEach(c=>{c.getAttribute("data-category")===r?(c.style.display="flex",setTimeout(()=>{a()},100)):c.style.display="none"})})});function a(){document.querySelectorAll(".contributor-item").forEach(r=>{const c=r.querySelector(".contributor-avatar"),u=r.querySelector(".contributor-tooltip");c&&u&&(c.addEventListener("mouseenter",()=>{u.classList.remove("opacity-0","invisible"),u.classList.add("opacity-100","visible")}),c.addEventListener("mouseleave",()=>{u.classList.remove("opacity-100","visible"),u.classList.add("opacity-0","invisible")}),c.addEventListener("click",()=>{m(c)}))})}function m(i){const r=i.getAttribute("data-name"),c=i.getAttribute("data-role-en"),u=i.getAttribute("data-role-zh"),d=i.getAttribute("data-github"),f=i.getAttribute("data-desc-en"),y=i.getAttribute("data-desc-zh"),p=i.getAttribute("data-large-image"),v=i.getAttribute("data-avatar"),E=document.documentElement.getAttribute("data-lang")||"en";document.getElementById("modal-name").textContent=r,document.getElementById("modal-role").textContent=E==="zh"?u:c,document.getElementById("modal-desc").textContent=E==="zh"?y:f,document.getElementById("modal-github").href=d,document.getElementById("modal-large-image").src=p,document.getElementById("modal-avatar").src=v;const q=document.getElementById("modal-large-image");q.onerror=function(){this.src=v},t.classList.remove("opacity-0","invisible"),t.classList.add("opacity-100","visible"),o.classList.remove("scale-95"),o.classList.add("scale-100"),document.body.style.overflow="hidden"}function g(){t.classList.remove("opacity-100","visible"),t.classList.add("opacity-0","invisible"),o.classList.remove("scale-100"),o.classList.add("scale-95"),document.body.style.overflow=""}l.addEventListener("click",g),t.addEventListener("click",i=>{i.target===t&&g()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&t.classList.contains("visible")&&g()}),a()});
