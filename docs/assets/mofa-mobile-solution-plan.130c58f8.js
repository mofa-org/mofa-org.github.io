const id = "mofa-mobile-solution-plan.md";
						const collection = "blog";
						const slug = "mofa-mobile-solution-plan";
						const body = "\n# MoFA 移动端部署方案：\n\n## 技术挑战\n\n### MoFA 的移动端应用场景与传统机器人控制的区别：\n\n**机器人控制场景特点**：\n- 低延迟的硬件通信（微秒级）\n- 大量传感器数据实时处理\n- Dora-RS 共享内存\n\n**移动端 AI Agent 场景特点**：\n- 逻辑推理和决策\n- 网络操作和屏幕交互为主\n- 对话和任务规划导向\n- 延迟容忍度相对较高（毫秒级即ok）\n\n### Dora-RS 的移植问题\n\n#### 一些问题：\n\n```rust\n// Dora 共享内存\nshared-memory-server (Dora自有) \n├── shared_memory_extended = \"0.13.0\"\n├── raw_sync_2 = \"0.1.5\" \n```\n\n1. **共享内存依赖**：Dora 依赖的 `shared_memory_extended` crate 在移动平台支持不完整\n2. **进程间通信机制**：移动操作系统 IPC 机制与桌面系统差异\n3. **ARM 架构适配**\n\n\n## 方案\n\n### 方案一：Termux + Root权限 完整移植（Demo阶段）\n\n#### 技术架构\n```\nAndroid Host\n├── Termux (完整Arch Linux 环境)\n│   ├── libandroid-shmem (共享内存)\n│   ├── Rust 工具链\n│   ├── Dora-RS 完整版\n│   └── MoFA 智能体框架\n└── Host Bridge App（参考Auto.JS）\n    ├── 屏幕截图 API\n    ├── 触摸注入 API\n    └── Socket 通信桥接\n```\n\n#### 分层验证计划\n\n**基础环境**\n```bash\n□ Termux 安装与 Root 权限获取\n□ 基础 Linux 命令可用性验证\n□ 网络连接和文件系统权限测试\npkg update && pkg install -y git curl wget\nsu -c \"whoami\"  # 验证 root 权限\n```\n\n**Rust 工具链**\n```bash\npkg install rust\nrustc --version && cargo --version\n```\n\n**共享内存**\n```bash\n# 内核支持检查\ncat /proc/version\nls -la /dev/shm\ngit clone https://github.com/termux/libandroid-shmem\ncd libandroid-shmem && make && make install\ngcc test/test.c -o test_shmem && ./test_shmem\n```\n\n**Dora**\n```bash\ngit clone https://github.com/dora-rs/dora\ncd dora\ncargo build --bin dora-daemon\ncargo build --bin dora-coordinator\n\n# 基础运行测试\n./target/debug/dora-daemon --help\n```\n\n\n\n**MoFA**\n```bash\npip install -e . #安装MoFA，具体省略\npython examples/hello_world/hello_world.py\n```\n\n#### Host-VM 桥接层设计\n\n**屏幕数据流**：\n```kotlin\n// Android Host 端，demo code，尚未实现\nclass ScreenBridge {\n    fun captureScreen(): ByteArray {\n        val mediaProjection = getMediaProjection()\n        val imageReader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 1)\n        return compressedImageData\n    }\n    \n    fun sendToVM(data: ByteArray) {\n        socket.write(data) // 通过 Socket 发送到 VM\n    }\n}\n```\n\n**操作指令回传**：\n```python\n# VM 中的 MoFA Agent，demo code，尚未实现\nclass AndroidOperationNode:\n    def __init__(self):\n        self.bridge_socket = socket.connect(\"unix:///tmp/android_bridge\")\n    \n    def click(self, x: int, y: int):\n        command = {\"action\": \"click\", \"x\": x, \"y\": y}\n        self.bridge_socket.send(json.dumps(command))\n```\n\n### 方案二：原生 Android 重设计\n\n#### 新架构设计\n```\nAndroid Native MoFA\n├── Zenoh-Kotlin 通信层\n├── Agent Runtime (Kotlin/Java)\n├── 智能体模板系统 (简化版)\n├── Android Services\n│   ├── AccessibilityService (屏幕操作)\n│   ├── ScreenCapture (截图服务)\n│   └── ForegroundService (后台保活)\n└── Mobile Node Hub\n    ├── AutoJS 集成节点\n    ├── UI Automator 包装\n    ├── Intent 调用器\n    └── API 调用节点\n```\n\n\n\n## 前两个方案对比\n\n| 评估维度 | Termux + Linux | Native 重设计 | \n|---------|----------------|---------------|\n| **开发速度** | 🟢 快速复用现有代码 | 🔴 需要完全重写 |  \n| **运行性能** | 🔴 双层虚拟化开销 | 🟢 原生性能 | \n| **功能完整性** | 🟢 100% 兼容 | 🔴 功能受限 |  \n| **用户体验** | 🔴 安装极端复杂 | 🟢 原生体验 | \n| **维护成本** | 🟢 低维护 | 🔴 双重维护 |  \n\n\n\n### 进一步场景分析\n\n除非开发者有特殊需求，比如需要 agent 来操作移动端独占的某些 app（淘宝、微信等），但这个市场相对较小，而且容易偏离核心方向。\n\n认真来做的话，移动端方案还是挺费资源的。技术复杂度高，投入产出比不太理想。\n\n但后面可以尝试直接打包到容器，不做操作用户手机的操作，单纯去跑一些信息抓取、文档处理之类的 flow，还是可行的。\n\n### 方案三：容器化部署\n\n```\nContainer-based MoFA Mobile Stage\n├── Docker/Podman 容器\n│   ├── 完整 MoFA 环境\n│   ├── 预装常用依赖\n│   └── 标准化运行时\n├── 常用Agent/Flow\n│   ├── 网页数据抓取\n│   ├── 文档处理 Flow\n│   ├── API 调用集成\n│   └── 数据分析任务\n└── 移动端适配\n    ├── 响应式 Web UI\n    ├── 触摸优化交互\n    └── 离线缓存支持\n```\n\n好处：\n- 技术栈完全复用，不用重新造轮子\n- 部署简单\n\n### 方案四：云端 + 网页套壳 App\n\n后期在云端部署后，做一个网页套壳 MoFA Stage 的 app。\n\n```\nCloud MoFA + Mobile Client\n├── 云端 MoFA \n│   ├── 智能体运行环境\n│   ├── 任务调度系统\n│   └── 结果缓存层\n├── 移动端 App (网页套壳)\n│   ├── MoFA Stage 移动版\n│   ├── 任务创建与监控\n│   ├── 结果展示界面\n│   └── 离线模式支持\n└── 通信层\n    ├── WebSocket 实时通信\n    ├── RESTful API\n    └── 消息队列同步\n```\n\n\n好处：\n- 不用造轮子\n- 技术栈保持一致，维护简单\n- 解决用户的实际需求，不是为了移动端而移动端\n\n---\n";
						const data = {title:"MoFA 移动端方案探索",description:"分析 MoFA 智能体框架在移动端部署面临的技术挑战",date:new Date(1749427200000),author:"MoFA 团队",tags:["移动端","架构设计","Termux","Android","技术方案"]};
						const _internal = {
							type: 'content',
							filePath: "/home/runner/work/mofa-org.github.io/mofa-org.github.io/mofa-website/src/content/blog/mofa-mobile-solution-plan.md",
							rawData: "\ntitle: \"MoFA 移动端方案探索\"\ndescription: \"分析 MoFA 智能体框架在移动端部署面临的技术挑战\"\ndate: 2025-06-09\nauthor: MoFA 团队\ntags: [移动端, 架构设计, Termux, Android, 技术方案]",
						};

export { _internal, body, collection, data, id, slug };
