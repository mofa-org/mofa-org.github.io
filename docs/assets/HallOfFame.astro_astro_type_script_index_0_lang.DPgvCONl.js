document.addEventListener("DOMContentLoaded",()=>{const b=document.querySelectorAll("#hof-tabs .category-tab"),f=document.querySelectorAll(".category-content"),a=document.getElementById("contributor-modal"),l=document.getElementById("modal-content"),h=document.getElementById("close-modal"),v=document.querySelector('[data-category="contributors"]');v&&v.classList.add("bg-gray-200","border-gray-600"),b.forEach(e=>{e.addEventListener("click",()=>{const c=e.getAttribute("data-category");b.forEach(t=>{t===e?t.classList.add("bg-gray-200","border-gray-600"):t.classList.remove("bg-gray-200","border-gray-600")}),f.forEach(t=>{t.getAttribute("data-category")===c?(t.style.display="flex",setTimeout(()=>{p()},100)):t.style.display="none"})})});function p(){const e=document.querySelectorAll(".contributor-item"),c=window.innerWidth<768;e.forEach(t=>{const d=t.querySelector(".contributor-avatar"),r=t.querySelector(".contributor-tooltip");if(t.querySelector(".contributor-hover-card"),d){const m=d.cloneNode(!0);d.parentNode.replaceChild(m,d);const n=t.querySelector(".contributor-avatar"),o=t.querySelector(".contributor-hover-card");if(c)r&&(n.addEventListener("mouseenter",()=>{r.classList.remove("opacity-0","invisible"),r.classList.add("opacity-100","visible")}),n.addEventListener("mouseleave",()=>{r.classList.remove("opacity-100","visible"),r.classList.add("opacity-0","invisible")})),n.addEventListener("click",()=>{E(n)});else{if(o){let s;n.addEventListener("mouseenter",()=>{clearTimeout(s),o.classList.remove("opacity-0","invisible","pointer-events-none"),o.classList.add("opacity-100","visible","pointer-events-auto")}),n.addEventListener("mouseleave",()=>{s=setTimeout(()=>{o.classList.remove("opacity-100","visible","pointer-events-auto"),o.classList.add("opacity-0","invisible","pointer-events-none")},150)}),o.addEventListener("mouseenter",()=>{clearTimeout(s)}),o.addEventListener("mouseleave",()=>{o.classList.remove("opacity-100","visible","pointer-events-auto"),o.classList.add("opacity-0","invisible","pointer-events-none")})}n.addEventListener("click",s=>{s.preventDefault();const i=n.getAttribute("data-github");i&&window.open(i,"_blank","noopener,noreferrer")})}}})}function E(e){const c=e.getAttribute("data-name"),t=e.getAttribute("data-role-en"),d=e.getAttribute("data-role-zh"),r=e.getAttribute("data-github");e.getAttribute("data-desc-en"),e.getAttribute("data-desc-zh");const m=e.getAttribute("data-large-image"),n=e.getAttribute("data-avatar"),o=e.getAttribute("data-project"),s=e.getAttribute("data-project-url"),i=e.getAttribute("data-prize"),A=document.documentElement.getAttribute("data-lang")||"en";document.getElementById("modal-name").textContent=c,document.getElementById("modal-role").textContent=A==="zh"?d:t,document.getElementById("modal-github").href=r,document.getElementById("modal-large-image").src=m,document.getElementById("modal-avatar").src=n,document.getElementById("modal-mofa-site").href=`https://${c}.mofa.ai`;const y=document.getElementById("modal-prize-badge");if(i&&i.trim()!==""){const j=i==="1st"?"ðŸ¥‡":i==="2nd"?"ðŸ¥ˆ":i==="3rd"?"ðŸ¥‰":"ðŸ†";y.textContent=j,y.style.display="inline"}else y.style.display="none";const L=document.getElementById("modal-project"),I=document.getElementById("modal-project-name"),g=document.getElementById("modal-project-url");o&&o.trim()!==""?(I.textContent=o,L.style.display="block"):L.style.display="none",s&&s.trim()!==""?(g.href=s,g.style.display="inline-flex"):g.style.display="none";const B=document.getElementById("modal-large-image");B.onerror=function(){this.src=n},a.classList.remove("opacity-0","invisible"),a.classList.add("opacity-100","visible"),l.classList.remove("scale-95"),l.classList.add("scale-100"),document.body.style.overflow="hidden"}function u(){a.classList.remove("opacity-100","visible"),a.classList.add("opacity-0","invisible"),l.classList.remove("scale-100"),l.classList.add("scale-95"),document.body.style.overflow=""}h.addEventListener("click",u),a.addEventListener("click",e=>{e.target===a&&u()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&a.classList.contains("visible")&&u()}),p()});
